<html>

<head>
    <title>Parent-Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="image/gs_logo_tab.png" type="image/png">
    <link rel="stylesheet" href="parent_dashboard_style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.922.0.min.js"></script>
    <script src='script.js'></script>
    <script type="module" src='emailSend.js'></script>
    <script type="module" src='downloadpdf.js'></script>
    <script type="module" src='printpdf.js'></script>
</head>

<body>

<!-- Navigation Bar -->

<nav class="navbar d-flex justify-content-center">
    <img src="image/gs_logo.svg" alt="gs_logo" type="image/svg" width="476" height="112">
</nav>

<!-- Navigation Bar End -->

<div class="container">
    <h2 class="parent_dashboard_title h2 pt-4 text-center">Parent Dashboard for : <span
            class="child-name fs-4">Charles</span></h2>
    <div class="row">
        <div class="col-6">
            <h4>Year : 2023</h4>
        </div>
        <!-- <div class="col-6"><button class="float-end dowload-all ">Download All</button>
        </div> -->
    </div>
    <div class="d-flex justify-content-center">
        <div class="container" style="margin-top: 20px;">
            <div class="table-wrapper">
                <table class="table">
                    <thead class="table-head">
                    <tr>
                        <th>Form Name</th>
                        <th>Form Expire Date</th>
                        <th>Form Review Status</th>
                        <th>Form Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    
                    <tr>
                        <td>Enrollment Agreement 2023-2024 <span class="required">*</span></td>
                        <td>30/06/2023</td>
                        <td>Yet to be filled</td>
                        <td>
                            <a href="form.html"><i class="fa-sharp fa-solid fa-pen p-2 action-icons" id = "enrollmentForm" name = "enrollmentForm"></i></a>
                            <i class="fa-solid fa-circle-arrow-down p-2 action-icons" id="downloadFormAsPDF"
                               name="downloadForm"></i>
                            <span data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                                        <i class="fa-solid fa-envelope p-2 action-icons"></i>
                                    </span>

                            <!-- Modal -->
                            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static"
                                 data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                 aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h1 class="modal-title fs-5" id="staticBackdropLabel">Mail Send to
                                                Admin
                                            </h1>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                    aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <form role="form" class="form-horizontal">

                                                <div class="form-group">
                                                    <label class="col-lg-2 control-label pt-2">Message</label>
                                                    <div class="col-lg-10">
                                                                <textarea rows="10" cols="30" class="form-control" id=""
                                                                          name=""></textarea>
                                                    </div>
                                                </div>

                                            </form>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                    data-bs-dismiss="modal">Cancel</button>

                                            <button type="button" class="btn btn-primary">Send</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Button trigger modal -->
                            <i class="fa-solid fa-print p-2 action-icons" id="printFormBtn"></i>
                        </td>
                    </tr>
                    </tbody>
                    <tfoot class="table-footer">
                    <tr>
                        <th>Parent Handbook</th>
                        <td></td>
                        <td></td>
                        <td>
                            <i class="fa-solid fa-circle-arrow-down p-2 action-icons" id="GetFile"
                            name="Parent Handbook"></i>
                        <i class="fa-solid fa-print p-2 action-icons"></i>
                        </td>
                    </tr>
                    </tfoot>
                </table>
            </div>
        </div>

    </div>

    <div class="container" id = "formContent">
        <div class="center-image">
            <img src="gs_logo.jpg" alt="Image" width="500" height="100"/>
        </div>
        <h1 id="heading" name="heading"></h1>
        <!-- <button id="apiButton" onclick="p1()">Get Form Data</button> -->
        <ol>
            <span id = "apiResponsep1" name = "apiResponsep1"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep2" name = "apiResponsep2"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep3" name = "apiResponsep3"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep4" name = "apiResponsep4"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep5" name = "apiResponsep5"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep6" name = "apiResponsep6"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep7" name = "apiResponsep7"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep8" name = "apiResponsep8"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep9" name = "apiResponsep9"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep10" name = "apiResponsep10"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep11" name = "apiResponsep11"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep12" name = "apiResponsep12"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep13" name = "apiResponsep13"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
            <span id = "apiResponsep14" name = "apiResponsep14"></span><br><br>
            <span id = "initial" name = "initial"><b>Initial here &nbsp;</b><input id = "initialStyle" type="text"></span>
        </ol>
    </div>

    <script>
        document.getElementById('GetFile').addEventListener('click', async function () {
            AWS.config.update({
                accessKeyId: 'AKIATNZ4QAI6MX5LH34Q',
                secretAccessKey: '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',
                region: 'us-west-2'
            });

            const s3 = new AWS.S3();
            const bucketName = 'goddard-form';
            const objectKey = 'Parent Handbook.pdf';

            const params = {
                Bucket: bucketName,
                Key: objectKey,
                ResponseContentDisposition: 'attachment; filename="' + objectKey + '"',
                Expires: 60
            };

            const url = s3.getSignedUrl('getObject', params);

            const link = document.createElement('a');
            link.href = url;
            link.download = objectKey;
            link.click();
        });
    </script>


</body>

</html>